Index: src/4_features/Registery_Login_User/api/registery_Login_Api.ts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\n\r\nconst BASE_URL = 'https://9art.ru/api/v1/auth'\r\n\r\nexport const Registery_Login_Api = createApi({\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: BASE_URL,\r\n  }),\r\n  endpoints: builder => ({\r\n    login: builder.mutation<any, any>({\r\n      query: body => ({\r\n        body,\r\n        method: 'POST',\r\n        url: '/login',\r\n      }),\r\n      // transformResponse: (response: IResponseRegisterApi) => {\r\n      //   localStorage.setItem('access_token', response.access_token || '')\r\n      //   localStorage.setItem('refresh_token', response.refresh_token || '')\r\n      //   localStorage.setItem('isAuth', 'true')\r\n      //   return response\r\n      // },\r\n    }),\r\n    refresh: builder.mutation<any, any>({\r\n      query: ({ access_token, body }) => ({\r\n        body,\r\n        headers: {\r\n          Authorization: `Bearer ${access_token}`,\r\n        },\r\n        method: 'POST',\r\n        url: '/refresh',\r\n      }),\r\n      // transformResponse: (response: IResponseRegisterApi) => {\r\n      //   localStorage.setItem('access_token', response.access_token || '')\r\n      //   localStorage.setItem('refresh_token', response.refresh_token || '')\r\n      //   localStorage.setItem('isAuth', 'true')\r\n\r\n      //   return response\r\n      // },\r\n    }),\r\n    register: builder.mutation<any, any>({\r\n      query: body => ({\r\n        body,\r\n        method: 'POST',\r\n        url: `/register`,\r\n      }),\r\n      // transformResponse: (response: IResponseRegisterApi) => {\r\n      //   localStorage.setItem('access_token', response.access_token || '')\r\n      //   localStorage.setItem('refresh_token', response.refresh_token || '')\r\n      //   localStorage.setItem('isAuth', 'true')\r\n\r\n      //   return response\r\n      // },\r\n    }),\r\n  }),\r\n  reducerPath: 'Registery_Login_Api',\r\n})\r\n\r\nexport const { useLoginMutation, useRegisterMutation } = Registery_Login_Api\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/4_features/Registery_Login_User/api/registery_Login_Api.ts b/src/4_features/Registery_Login_User/api/registery_Login_Api.ts
--- a/src/4_features/Registery_Login_User/api/registery_Login_Api.ts	(revision 01be2e539d627cf68a1f99d29fc59d8a6b9f2ea1)
+++ b/src/4_features/Registery_Login_User/api/registery_Login_Api.ts	(date 1707825930023)
@@ -1,5 +1,7 @@
 import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'
 
+import { IResponseRegisterApi, RegistrationData, RegistrationResponse } from '../types'
+
 const BASE_URL = 'https://9art.ru/api/v1/auth'
 
 export const Registery_Login_Api = createApi({
@@ -37,19 +39,12 @@
       //   return response
       // },
     }),
-    register: builder.mutation<any, any>({
+    register: builder.mutation<RegistrationResponse, RegistrationData>({
       query: body => ({
         body,
         method: 'POST',
         url: `/register`,
       }),
-      // transformResponse: (response: IResponseRegisterApi) => {
-      //   localStorage.setItem('access_token', response.access_token || '')
-      //   localStorage.setItem('refresh_token', response.refresh_token || '')
-      //   localStorage.setItem('isAuth', 'true')
-
-      //   return response
-      // },
     }),
   }),
   reducerPath: 'Registery_Login_Api',
